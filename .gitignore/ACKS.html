<input class="sheet-is-monster" type="checkbox" name="attr_is_monster" value="1"><span class="sheet-is-monster-tab"></span>
<div class="sheet-pcinfo">
    <div class="sheet-flex-between">
        <div class="sheet-col-left sheet-noborder">
             <div class="sheet-info-row">
                 <input type="text" class="sheet-info5" name="attr_name">
                 <input type="text" class="sheet-info1" name="attr_age">
                 <input type="text" class="sheet-info2" name="attr_sex">
                 <input type="text" class="sheet-info4" name="attr_race">
                 <span class="sheet-info5">Name</span>
                 <span class="sheet-info1">Age</span>
                 <span class="sheet-info2">Sex</span>
                 <span class="sheet-info4">Race</span>
             </div>
             <div class="sheet-info-row">
                 <input type="text" class="sheet-info1" name="attr_level">
                 <input type="text" class="sheet-info6" name="attr_class">
                 <input type="text" class="sheet-info6" name="attr_title">
                 <span class="sheet-info1">Level</span>
                 <span class="sheet-info6">Class</span>
                 <span class="sheet-info6">Template or Title</span>
             </div>
             <div class="sheet-info-row">
                 <input type="text" class="sheet-info3" name="attr_alignment">
                 <input type="text" class="sheet-info1" name="attr_xpbonus">
                 <input type="text" class="sheet-info3" name="attr_xp">
                 <input type="text" class="sheet-info3" name="attr_nextxp">
                 <span class="sheet-info3">Alignment</span>
                 <span class="sheet-info1">+XP%</span>
                 <span class="sheet-info3">Current XP</span>
                 <span class="sheet-info3">XP for Level Up</span>
            </div>
        </div>
        <div>
            <div class="sheet-flex-center">
                <div class="sheet-topblock">
                    <span class="sheet-wierdtoptitle">&nbsp;</span>
                    <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Initiative}} {{initroll=[[1d6+(@{Init})+(?{Modifier|0})&{tracker}]]}}" name="roll_initiative"></button>
                    <span class="sheet-toptitle">Initiative</span>
                    <input type="number" class="sheet-savingthrow" name="attr_Init" value="(@{DexMod}+@{mInit})" disabled="true">
                </div>
            </div>            
        </div>
        <div class="sheet-col-right sheet-noborder">
            <h2>ADVENTURER CONQUEROR KING</h2>
            <div class="sheet-flex-center">
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Move</span>
                    <input type="number" class="sheet-savingthrow" name="attr_combatMV" value="40" readonly>
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Surprise</span>
                    <input type="number" class="sheet-savingthrow" name="attr_Surpr" value="(@{mSurp})" disabled="true">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Reaction</span>
                    <input type="number" class="sheet-savingthrow" name="attr_React" value="(@{ChaMod}+@{mReact})" disabled="true">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">AC</span>
                    <input type="number" class="sheet-savingthrow" name="attr_AC" value="(@{ArmorAC}+@{mArmor}+@{DexMod})" disabled="true">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">HP</span>
                    <input type="number" class="sheet-savingthrow sheet-hp" name="attr_HP">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                 <div class="sheet-topblock">
                    <span class="sheet-toptitle">Max</span>
                    <input type="number" class="sheet-savingthrow sheet-hp" name="attr_HP_max">
                </div>
            </div>
        </div>
    </div>
    <!-- ABILITIES, SAVES, ETC -->
    <div class="sheet-flex-between">
        <div class="sheet-col-left">
            <div class="sheet-thick-border">
                <!-- ABILITIES -->
                <h3>Abilities</h3>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Strength</span>
                        <input type="number" class="sheet-ability-value" name="attr_str" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_StrMod" value="0" readonly>
                        <span class="sheet-subtext">Melee Attack and Damage Throws, Carry Capacity</span>
                    </div>
                </div>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Dexterity</span>
                        <input type="number" class="sheet-ability-value" name="attr_dex" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_DexMod" value="0" readonly>
                        <span class="sheet-subtext">Missile Attack Throws, Armor Class, Initiative</span>
                    </div>
                </div>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Constitution</span>
                        <input type="number" class="sheet-ability-value" name="attr_con" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_ConMod" value="0" readonly>
                        <span class="sheet-subtext">Hit Points</span>
                    </div>

                </div>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Intelligence</span>
                        <input type="number" class="sheet-ability-value" name="attr_int" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_IntMod" value="0" readonly>
                        <span class="sheet-subtext">Proficiences, Languages, Spells</span>
                    </div>
                </div>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Wisdom</span>
                        <input type="number" class="sheet-ability-value" name="attr_wis" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_WisMod" value="0" readonly>
                        <span class="sheet-subtext">Saving Throws</span>
                    </div>
                </div>
                <div class="sheet-flex">
                    <div class="sheet-ability-column-value">
                        <span>Charisma</span>
                        <input type="number" class="sheet-ability-value" name="attr_cha" value="10">
                    </div>
                    <div class="sheet-ability-column-modifier sheet-flex-between">
                        <input type="number" class="sheet-ability-modifier" name="attr_ChaMod" value="0" readonly>
                        <span class="sheet-subtext">Reaction Rolls, Morale Rolls, Henchmen</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="sheet-col-right sheet-save-col sheet-flex-between">
            <div class="sheet-thick-border">
                <h3>Combat</h3>
                <div class="sheet-flex">
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Armor</span>
                        <input type="number" class="sheet-savingthrow" name="attr_ArmorAC" value="0">
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Atk Throw</span>
                        <input type="number" class="sheet-savingthrow" name="attr_BaseAT" readonly>
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Melee</span>
                        <input type="number" class="sheet-savingthrow" name="attr_MeleeAT" value="(@{BaseAT}-(@{StrMod}))" disabled="true">
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Missile</span>
                        <input type="number" class="sheet-savingthrow" name="attr_RangedAT" value="(@{BaseAT}-(@{DexMod}))" disabled="true">
                    </div>
                </div>
                <span class="sheet-rightsidespacer">&nbsp;</span>
                <!-- Saving Throws -->
                <h3>Saving Throws</h3>
                <div class="sheet-flex">
                  <div class="sheet-svblock">
                    <span class="sheet-svbtitle">Petrify & Paralysis</span>
                    <input type="number" class="sheet-savingthrow" name="attr_Paralyze" readonly>
                    <span class="sheet-svnsubtext">Rendered Immobile</span>
                    <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Petrify & Paralysis}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{Paralyze}]]}}" name="roll_ParalyzeCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Poison & Death</span>
                      <input type="number" class="sheet-savingthrow" name="attr_Poison" readonly>
                      <span class="sheet-svnsubtext">Death or Incapacitation</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Poison & Death}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{Poison}]]}}" name="roll_PoisonCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Blast & Breath</span>
                      <input type="number" class="sheet-savingthrow" name="attr_Breath" readonly>
                      <span class="sheet-svnsubtext">Area Effects</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Blast & Breath}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{Breath}]]}}" name="roll_BreathCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Staffs & Wands</span>
                      <input type="number" class="sheet-savingthrow" name="attr_Device" readonly>
                      <span class="sheet-svnsubtext">Effects from Items</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Staffs & Wands}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{Device}]]}}" name="roll_DeviceCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Spells</span>
                      <input type="number" class="sheet-savingthrow" name="attr_Magic" readonly>
                      <span class="sheet-svnsubtext">Effects from Spells</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Spells}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{Magic}]]}}" name="roll_MagicCheck"></button>
                  </div>
                </div>
                <span class="sheet-rightsidespacer">&nbsp;</span>
                <!-- MISC BONUSES -->
                <h3>Misc Bonuses</h3>
                <div class="sheet-flex">
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Surprise</span>
                        <input type="number" class="sheet-savingthrow" name="attr_mSurp" value="0">
                        <!--<button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Surprise}} {{surprroll=[[1d6+(@{Surpr})+(?{Modifier|0})]]}}" name="roll_suprise"></button>-->
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Reaction</span>
                        <input type="number" class="sheet-savingthrow" name="attr_mReact" value="0">
                        <!--<button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Reaction}} {{reactroll=[[2d6+(@{React})+(?{Modifier|0})]]}}" name="roll_reaction"></button>-->
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Initiative</span>
                        <input type="number" class="sheet-savingthrow" name="attr_mInit" value="0">
                        <!--<button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Initiative}} {{initroll=[[1d6+(@{Init})+(?{Modifier|0})&{tracker}]]}}" name="roll_initiative"></button>-->
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Morale</span>
                        <input type="number" class="sheet-savingthrow" name="attr_mMorale" value="0">
                        <!--<button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Hiring}} {{hireroll=[[2d6+(@{ChaMod})+(?{Modifier|0})]]}}" name="roll_hire"></button>-->
                        <!--<button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Morale}} {{moraleroll=[[2d6+(@{ChaMod})+(?{Modifier|0})]]}}" name="roll_morale"></button>-->
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">AC</span>
                        <input type="number" class="sheet-savingthrow" name="attr_mArmor" value="0">
                    </div>
                </div>
                <div class="sheet-flex">
                  <div class="sheet-svblock">
                    <span class="sheet-svbtitle">Petrify & Paralysis</span>
                    <input type="number" class="sheet-savingthrow" name="attr_ParalyzeMod" value="0">
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Poison & Death</span>
                      <input type="number" class="sheet-savingthrow" name="attr_PoisonMod" value="0">
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Blast & Breath</span>
                      <input type="number" class="sheet-savingthrow" name="attr_BreathMod" value="0">
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Staffs & Wands</span>
                      <input type="number" class="sheet-savingthrow" name="attr_DeviceMod" value="0">
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Spells</span>
                      <input type="number" class="sheet-savingthrow" name="attr_MagicMod" value="0">
                  </div>
                </div>
            </div>
        </div>
    </div>
    <!-- WEAPONS -->
    <div class="sheet-thick-border">
        <h3>Weapons</h3>
        <div class="sheet-rep-title sheet-flex-between">
            <span class="sheet-weapon-name">Name</span>
            <span class="sheet-weapon-type">Type</span>
            <span class="sheet-damage">Die</span>
            <span class="sheet-attackbonus">+Hit</span>
            <span class="sheet-attackbonus">+Dmg</span>
            <span class="sheet-tiny">Short</span>
            <span class="sheet-tiny">Med(-2)</span>
            <span class="sheet-tiny">Long(-5)</span>
            <span class="sheet-tiny">Focus</span>
            <span class="sheet-attackbonus">Multiplier</span>
            <span class="sheet-dummy-attack-button"></span>
        </div>
        <fieldset class="repeating_weapons">
            <div class="sheet-skillcontainer">
                <input type="text" name="attr_weaponname" class="sheet-no-border sheet-weapon-name" placeholder="Weapon Name">
                <select name="attr_weapontype" class="sheet-no-border sheet-weapon-type">
                    <option value="@{MeleeAT}" selected>Melee</option>
                    <option value="@{RangedAT}">Finesse</option>
                    <option value="@{RangedAT}">Ranged</option>
                </select>
                <select name="attr_weapondamage" class="sheet-no-border sheet-damage">
                    <option value="1d2" selected>1d2</option>
                    <option value="1d4">1d4</option>
                    <option value="1d6">1d6</option>
                    <option value="1d8" selected>1d8</option>
                    <option value="1d10">1d10</option>
                </select>
                <input type="number" name="attr_attackbonus" class="sheet-no-border sheet-attackbonus" value="0">
                <input type="text" name="attr_damagebonus" class="sheet-no-border sheet-attackbonus" value="0">
                <input type="text" name="attr_shortrange" class="sheet-no-border sheet-tiny">
                <input type="text" name="attr_mediumrange" class="sheet-no-border sheet-tiny">
                <input type="text" name="attr_longrange" class="sheet-no-border sheet-tiny">
                <select name="attr_focus" class="sheet-no-border sheet-tiny">
                    <option value="0" selected>No</option>
                    <option value="1">Yes</option>
                </select>
                <input type="text" name="attr_multiplier" class="sheet-no-border sheet-attackbonus" value="1">
                <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{name=@{weaponname}}} {{attackroll=[[1d20+(@{attackbonus})+(?{Modifier|0})-@{weapontype}]]}} {{damageroll=[[(@{multiplier}*(@{weapondamage}))+@{damagebonus}]]}} {{critdamageroll=[[((@{multiplier}+@{focus})*(@{weapondamage}))+@{damagebonus}]]}}" name="roll_Attack"></button>
            	<textarea spellcheck="false" name="attr_weapondescription" class="sheet-bottom-line sheet-retainer-description" placeholder="Description"></textarea>
            </div>
        </fieldset>
    </div>
    
    <!-- SKILLS AND EQUIPMENT -->
    <div class="sheet-flex-between">
        <div class="sheet-col-left sheet-thick-border">
            <h3>GMRoll Actions</h3>
            <input type="text" name="attr_DSskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Detect Secret" readonly>
            <input type="number" name="attr_DSskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{DSskillname}}} {{gmskillroll=[[(?{Modifier|0})]]}} {{target=[[@{DSskillvalue}]]}}" name="roll_DSSkill"></button>
            <input type="text" name="attr_HNskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Hear Noise" readonly>
            <input type="number" name="attr_HNskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{HNskillname}}} {{gmskillroll=[[(?{Modifier|0})]]}} {{target=[[@{HNskillvalue}]]}}" name="roll_HNSkill"></button>
            <input type="text" name="attr_FTskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Find Traps" readonly>
            <input type="number" name="attr_FTskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{FTskillname}}} {{gmskillroll=[[(?{Modifier|0})]]}} {{target=[[@{FTskillvalue}]]}}" name="roll_FTSkill"></button>
            <fieldset class="repeating_gmskills">
                <input type="text" name="attr_gmskillname" class="sheet-bottom-line sheet-skillname" placeholder="Action Name">
                <input type="number" name="attr_gmskillvalue" class="sheet-skillvalue" value="18">
                <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{gmskillname}}} {{gmskillroll=[[(?{Modifier|0})]]}} {{target=[[@{gmskillvalue}]]}}" name="roll_gmSkill"></button>
            </fieldset>
            <h3>Actions</h3>
            <input type="text" name="attr_ODskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Open Door" readonly>
            <input type="number" name="attr_ODskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{ODskillname}}} {{skillroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{ODskillvalue}]]}}" name="roll_ODSkill"></button>
            <input type="text" name="attr_TSskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Trained Skill" readonly>
            <input type="number" name="attr_TSskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{TSskillname}}} {{skillroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{TSskillvalue}]]}}" name="roll_TSSkill"></button>
            <input type="text" name="attr_USskillname" class="sheet-bottom-line sheet-skillname" value="Adventuring Untrained Skill" readonly>
            <input type="number" name="attr_USskillvalue" class="sheet-skillvalue" value="18" readonly>
            <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{USskillname}}} {{skillroll=[[(1d20+?{Modifier|0})]]}} {{target=[[@{USskillvalue}]]}}" name="roll_USSkill"></button>
            <fieldset class="repeating_skills">
                <input type="text" name="attr_skillname" class="sheet-bottom-line sheet-skillname" placeholder="Action Name">
                <input type="number" name="attr_skillvalue" class="sheet-skillvalue" value="18">
                <button class="sheet-skill-button" type="roll" value="&{template:acks_template} {{name=@{skillname}}} {{skillroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{skillvalue}]]}}" name="roll_Skill"></button>
            </fieldset>
            <h3>Abilities</h3>
            <div class="sheet-othercontainer">
                <input type="text" name="attr_featurelangs" class="sheet-no-border sheet-othername" value="Languages">
                <div class="sheet-bottom-line sheet-auto-expand">
                	<span name="attr_featuredescrlangs"></span>
                	<textarea spellcheck="false" name="attr_featuredescrlangs" placeholder="Common"></textarea>
                </div>
            </div>
            <fieldset class="repeating_features">
                <div class="sheet-othercontainer">
                    <input type="text" name="attr_featurename" class="sheet-no-border sheet-othername" placeholder="Ability Name">
                    <div class="sheet-bottom-line sheet-auto-expand">
                    	<span name="attr_featuredescription"></span>
                    	<textarea spellcheck="false" name="attr_featuredescription" placeholder="Description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h3>Proficiencies</h3>
            <div class="sheet-othercontainer">
                <input type="text" name="attr_proficiencyAdv" class="sheet-no-border sheet-othername" value="Adventuring">
                <div class="sheet-bottom-line sheet-special-auto">
                	<span name="attr_proficiencydescrAdv"></span>
                	<textarea spellcheck="false" name="attr_proficiencydescrAdv" placeholder="The character is well-equipped for a life of adventure. He knows how to clean and sharpen weapons, saddle and ride a horse, set up a camp, and search for a secret door. He has a rough idea of the value of common coins, trade goods, gems, and jewelry. All player characters are assumed to have Adventuring for purposes of the profciency throws of standard adventuring tasks."></textarea>
                </div>
            </div>
            <fieldset class="repeating_proficiencies">
                <div class="sheet-othercontainer">
                    <input type="text" name="attr_proficiencyname" class="sheet-no-border sheet-othername" placeholder="Proficiency Name">
                    <div class="sheet-bottom-line sheet-auto-expand">
                    	<span name="attr_proficiencydescription"></span>
                    	<textarea spellcheck="false" name="attr_proficiencydescription" placeholder="Description"></textarea>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="sheet-col-right sheet-save-col">
            <div class="sheet-thick-border">
                <!-- MOVEMENT STUFF -->
                <h3>Movement</h3>
                <div class=" sheet-flex-between">
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Max Carry</span>
                        <input type="number" class="sheet-savingthrow" name="attr_maxcarry"  value="(20+(@{StrMod}))" disabled="true">
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Explore Mv</span>
                        <input type="number" class="sheet-savingthrow" name="attr_exploreMV" value="120" readonly>
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Combat Mv</span>
                        <input type="number" class="sheet-savingthrow" name="attr_combatMV" value="40" readonly>
                    </div>
                    <div class="sheet-svblock">
                        <span class="sheet-statstitle">Run Mv</span>
                        <input type="number" class="sheet-savingthrow" name="attr_exploreMV" value="120" readonly>
                    </div>
                </div>
            </div>
            <div class="sheet-thick-border sheet-equipment">
                <h3>Equipment</h3>
                <fieldset class="repeating_equipment">
                     <input type="number" name="attr_itemcount" placeholder="#" class="sheet-encumbrance sheet-bottom-line" min="0">
                     <input type="text" name="attr_itemname" placeholder="Item" class="sheet-bottom-line sheet-equipment-name">
                     <input type="number" step=any name="attr_encumbrance" placeholder="wt" class="sheet-encumbrance sheet-bottom-line" min="0">
                </fieldset>
                <div class="sheet-flex-between sheet-encumbrance-total">
                  <input type="number" name="attr_coinsCP" class="sheet-coins" value="0">
                  <span class="sheet-equipment-name">cp</span>
                  <input type="number" name="attr_coinsSP" class="sheet-coins" value="0">
                  <span class="sheet-equipment-name">sp</span>
                  <input type="number" name="attr_coinsEP" class="sheet-coins" value="0">
                  <span class="sheet-equipment-name">ep</span>
                  <input type="number" name="attr_coinsGP" class="sheet-coins" value="0">
                  <span class="sheet-equipment-name">gp</span>
                  <input type="number" name="attr_coinsPP" class="sheet-coins" value="0">
                  <span class="sheet-equipment-name">pp</span>
                </div>
                <div class="sheet-top-line sheet-flex-between sheet-encumbrance-total">
                  <span class="sheet-equipment-name">Total</span>
                  <input type="number" step=any name="attr_encumbrance_total" class="sheet-total-encumbrance" value="0" readonly>
                </div>
            </div>
            <div class="sheet-thick-border sheet-equipment">
                <h3>Unencumbering</h3>
                <fieldset class="repeating_banked">
                    <div class="sheet-othercontainer">
                        <input type="text" name="attr_bankheader" class="sheet-no-border sheet-othername">
                        <div class="sheet-bottom-line sheet-auto-expand">
                        	<span name="attr_bankdescription"></span>
                        	<textarea spellcheck="false" name="attr_bankdescription" placeholder="Description"></textarea>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <!-- SPELLS -->
    <div class="sheet-thick-border sheet-spells">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="all" checked>
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="1">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="2">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="3">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="4">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="5">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="6">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="7">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="8">
        <input type="checkbox" name="attr_spells_filter" class="sheet-spellfilter" value="9">
        <h3>Spells</h3>
        <div class="sheet-spells-per-level sheet-flex-between">
          <div class="sheet-flex-between">
              <span>1: </span>
              <input type="number" name="attr_spells_l1" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l1_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>2: </span>
              <input type="number" name="attr_spells_l2" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l2_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>3: </span>
              <input type="number" name="attr_spells_l3" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l3_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>4: </span>
              <input type="number" name="attr_spells_l4" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l4_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>5: </span>
              <input type="number" name="attr_spells_l5" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l5_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>6: </span>
              <input type="number" name="attr_spells_l6" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l6_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>7: </span>
              <input type="number" name="attr_spells_l7" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l7_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>8: </span>
              <input type="number" name="attr_spells_l8" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l8_max" value="0">
          </div>
          <div class="sheet-flex-between">
              <span>9: </span>
              <input type="number" name="attr_spells_l9" value="0">
              <span> / </span>
              <input type="number" name="attr_spells_l9_max" value="0">
          </div>
        </div>
        <div class="sheet-spell-filters sheet-flex-between">
            <div>Filter:</div>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="all" checked>
                <span>all</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="1">
                <span>1</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="2">
                <span>2</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="3">
                <span>3</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="4">
                <span>4</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="5">
                <span>5</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="6">
                <span>6</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="7">
                <span>7</span>
            </label>
            <label class="sheet-filter-button">
                <input type="radio" name="attr_spells_filter" value="8">
                <span>8</span>
            </label>
            <label class="sheet-filter-button">
              <input type="radio" name="attr_spells_filter" value="9">
              <span>9</span>
          </label>
        </div>
        <fieldset class="repeating_spells">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="1">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="2">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="3">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="4">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="5">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="6">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="7">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="8">
            <input type="checkbox" name="attr_spelllevel" class="sheet-hidden-spell-level" value="9">
            <div class="sheet-spellcontainer">
                <input type="text" name="attr_spellname" class="sheet-bottom-line sheet-spell-name" placeholder="Spell or Ability Name">
                <input type="text" name="attr_spelltype" class="sheet-spell-type" placeholder="Caster Class">
                <input type="text" name="attr_spelllevel" class="sheet-bottom-line sheet-spell-level" placeholder="1">
                <input type="text" name="attr_spellduration" class="sheet-bottom-line sheet-spell-duration" placeholder="Duration">
                <input type="text" name="attr_spellrange" class="sheet-bottom-line sheet-spell-range" placeholder="Range">
                <div>
                    <span># cast: </span>
                    <input type="number" name="attr_spellcast" class="sheet-bottom-line sheet-spell-prepared" value="0" min="0">
                </div>
                <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{spell=1}} {{name=@{spellname}}} {{type=@{spelltype}}} {{level=@{spelllevel}}} {{duration=@{spellduration}}} {{range=@{spellrange}}} {{description=@{spelldescription}}}" name="roll_Cast"></button>
                <div class="sheet-othercontainer sheet-auto-expand">
                	<span name="attr_spelldescription"></span>
                	<textarea spellcheck="false" name="attr_spelldescription" placeholder="Description"></textarea>
                	<!-- class="sheet-spell-description" -->
                </div>
            </div>
        </fieldset>
    </div>
    <!-- RETAINERS -->
    <div class="sheet-thick-border">
        <h3>Hirelings</h3>
        <fieldset class="repeating_retainers">
            <div class="sheet-retainercontainer">
                <div class="sheet-info-row">
                    <input type="text" name="attr_retainername" class="sheet-bottom-line sheet-retainer-large">
                    <input type="text" name="attr_retainerposition" class="sheet-bottom-line sheet-retainer-med">
                    <input type="text" name="attr_retainerxp" class="sheet-bottom-line sheet-retainer-med">
                    <input type="text" name="attr_retainerwage" class="sheet-bottom-line sheet-retainer-small">
                    <input type="text" name="attr_retainershare" class="sheet-bottom-line sheet-retainer-small">
                    <input type="text" name="attr_retainerloyalty" class="sheet-bottom-line sheet-retainer-small">
                    <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{name=@{retainerposition} @{retainername}}} {{loyaltyroll=[[2d6+(@{ChaMod})+(@{mMorale})+(@{retainerloyalty})]]}}" name="roll_Retainer_Loyalty"></button>
                    <span class="sheet-retainer-large">Name</span>
                    <span class="sheet-retainer-med">Position</span>
                    <span class="sheet-retainer-med">XP</span>
                    <span class="sheet-retainer-small">Wage</span>
                    <span class="sheet-retainer-small">Share</span>
                    <span class="sheet-retainer-small">Loyalty</span>
                    <span class="sheet-dummy-attack-button"></span>
                </div>
                <div class="sheet-info-row">
                    <input type="text" name="attr_retainerclasslvl" class="sheet-bottom-line sheet-retainer-large">
                    <input type="text" name="attr_retainerac" class="sheet-bottom-line sheet-retainer-small">
                    <input type="text" name="attr_retainerhp" class="sheet-bottom-line sheet-retainer-small">
                    <input type="text" name="attr_retainermove" class="sheet-bottom-line sheet-retainer-small">
                    <input type="text" name="attr_retainerattack" class="sheet-bottom-line sheet-retainer-smallplus">
                    <input type="text" name="attr_retainerdamage" class="sheet-bottom-line sheet-retainer-med">
                    <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{name=@{retainerposition} @{retainername}}} {{attackroll=[[1d20+(?{Modifier|0})-@{retainerattack}]]}} {{damageroll=[[@{retainerdamage}]]}} {{critdamageroll=[[@{retainerdamage}]]}}" name="roll_Retainer_Attack"></button>
                    <input type="text" name="attr_retainersave" class="sheet-bottom-line sheet-retainer-small">
                    <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{name=@{retainerposition} @{retainername}}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{retainersave}]]}}" name="roll_Retainer_Save"></button>
                    <span class="sheet-retainer-large">Class and Level</span>
                    <span class="sheet-retainer-small">AC</span>
                    <span class="sheet-retainer-small">HP</span>
                    <span class="sheet-retainer-small">Move</span>
                    <span class="sheet-retainer-smallplus">Atk Throw</span>
                    <span class="sheet-retainer-med">Damage</span>
                    <span class="sheet-dummy-attack-button"></span>
                    <span class="sheet-retainer-small">Save</span>
                    <span class="sheet-dummy-attack-button"></span>
                </div>
                <div class="sheet-auto-expand">
                	<span name="attr_retainerdescription"></span>
                	<textarea spellcheck="false" name="attr_retainerdescription" placeholder="Notes (Alignment, Gear, Proficiencies, Wounds, Description)"></textarea>
                </div>
            </div>
        </fieldset>
    </div>
</div>
<!-- THIS IS THE STAT BLOCK TAB PART -->
<div class="sheet-monsterinfo">
    <div class="sheet-flex-between">
        <div class="sheet-col-left">
            <textarea spellcheck="false" name="attr_monster_rawblock" class="sheet-rawblock" placeholder="Raw Stat Block"></textarea>
        </div>
        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
        <div class="sheet-col-right">
            <div class="sheet-flex-center">
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Move</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_combatMV" value="0">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Initiative</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_Init" value="0">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">AC</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_AC" value="0">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">AT</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_ATK" readonly>
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                <div class="sheet-topblock">
                    <span class="sheet-toptitle">Morale</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_MOR" value="0">
                </div>
                <span class="sheet-toptitle">&nbsp;</span>
                 <div class="sheet-topblock">
                    <span class="sheet-toptitle">Hit Dice</span>
                    <input type="text" class="sheet-savingthrow-hd" name="attr_m_HD" value="0">
                </div>
            </div>
            <!-- FIGHTS AND SAVES AS -->
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div class="sheet-info-row">
                <span class="sheet-monsteras-span">Fights as</span>
                <select name="attr_m_fightas" class="sheet-monster-type">
                    <option value="MST" selected>Monster</option>
                    <option value="FTR">Fighter</option>
                    <option value="MAG">Mage</option>
                    <option value="CLR">Cleric</option>
                    <option value="THF">Thief</option>
                </select>
                <input type="number" name="attr_m_fightlvl" value="0">
            </div>
            
            <div class="sheet-info-row">
                <span class="sheet-monsteras-span">Saves as</span>
                <select name="attr_m_saveas" class="sheet-monster-type">
                    <option value="FTR" selected>Fighter</option>
                    <option value="MAG">Mage</option>
                    <option value="CLR">Cleric</option>
                    <option value="THF">Thief</option>
                </select>
                <input type="number" name="attr_m_savelvl" value="0">
            </div>
            
        </div>
    </div>
    <div class="sheet-flex-between">
        <div class="sheet-col-left">
            <div class="sheet-thick-border">
                <!-- ABILITIES -->
                <h3>Stat Block</h3>
                <div class="sheet-statblock-column">
                    <div class="sheet-statblock-row">
                        <span>Name</span>
                        <input type="text" name="attr_m_name" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>% In Lair</span>
                        <input type="text" name="attr_m_lair" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Dungeon Enc.</span>
                        <input type="text" name="attr_m_denc" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Wilderness Enc.</span>
                        <input type="text" name="attr_m_wenc" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Alignment</span>
                        <input type="text" name="attr_m_alignment" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Movement</span>
                        <input type="text" name="attr_m_movement" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Armor Class</span>
                        <input type="text" name="attr_m_armorclass" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Hit Dice</span>
                        <input type="text" name="attr_m_hitdice" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Attacks</span>
                        <input type="text" name="attr_m_attack" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Damage</span>
                        <input type="text" name="attr_m_damage" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Save</span>
                        <input type="text" name="attr_m_save" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Morale</span>
                        <input type="text" name="attr_m_morale" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>Treasure Type</span>
                        <input type="text" name="attr_m_treasure" readonly>
                    </div>
                    <div class="sheet-statblock-row">
                        <span>XP</span>
                        <input type="text" name="attr_m_xp" readonly>
                    </div>
                </div>
            </div>
        </div>
        <div class="sheet-col-right sheet-save-col">
            <!-- SAVING THROWS -->
            <div class="sheet-thick-border">
                <!-- Saving Throws -->
                <h3>Saving Throws</h3>
                <div class="sheet-flex">
                  <div class="sheet-svblock">
                    <span class="sheet-svbtitle">Petrify & Paralysis</span>
                    <input type="number" class="sheet-savingthrow" name="attr_m_Paralyze" readonly>
                    <span class="sheet-svnsubtext">Rendered Immobile</span>
                    <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Petrify & Paralysis}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{m_Paralyze}]]}}" name="roll_ParalyzeCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Poison & Death</span>
                      <input type="number" class="sheet-savingthrow" name="attr_m_Poison" readonly>
                      <span class="sheet-svnsubtext">Death or Incapacitation</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Poison & Death}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{m_Poison}]]}}" name="roll_PoisonCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Blast & Breath</span>
                      <input type="number" class="sheet-savingthrow" name="attr_m_Breath" readonly>
                      <span class="sheet-svnsubtext">Area Effects</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Blast & Breath}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{m_Breath}]]}}" name="roll_BreathCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Staffs & Wands</span>
                      <input type="number" class="sheet-savingthrow" name="attr_m_Device" readonly>
                      <span class="sheet-svnsubtext">Effects from Items</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Staffs & Wands}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{m_Device}]]}}" name="roll_DeviceCheck"></button>
                  </div>
                  <div class="sheet-svblock">
                      <span class="sheet-svbtitle">Spells</span>
                      <input type="number" class="sheet-savingthrow" name="attr_m_Magic" readonly>
                      <span class="sheet-svnsubtext">Effects from Spells</span>
                      <button class="sheet-ability-button" type="roll" value="&{template:acks_template} {{name=Spells}} {{saveroll=[[1d20+(?{Modifier|0})]]}} {{target=[[@{m_Magic}]]}}" name="roll_MagicCheck"></button>
                  </div>
                </div>
            </div>
            <!-- COMBAT STUFF -->
            <div class="sheet-thick-border">
                <h3>Combat</h3>
                <div class="sheet-rep-title sheet-flex-between">
                    <span class="sheet-mweapon-name">Name</span>
                    <span class="sheet-mdamage">Damage</span>
                    <span class="sheet-mtiny">S</span>
                    <span class="sheet-mtiny">M(-2)</span>
                    <span class="sheet-mtiny">L(-5)</span>
                    <span class="sheet-dummy-attack-button"></span>
                </div>
                <fieldset class="repeating_mweapons">
                    <div class="sheet-skillcontainer">
                        <input type="text" name="attr_m_weaponname" class="sheet-no-border sheet-mweapon-name" placeholder="Weapon Name">
                        <input type="text" name="attr_m_weapondamage" class="sheet-no-border sheet-mdamage" placeholder="1d6">
                        <input type="text" name="attr_m_shortrange" class="sheet-no-border sheet-mtiny">
                        <input type="text" name="attr_m_mediumrange" class="sheet-no-border sheet-mtiny">
                        <input type="text" name="attr_m_longrange" class="sheet-no-border sheet-mtiny">
                        <button class="sheet-attack-button" type="roll" value="&{template:acks_template} {{name=@{m_weaponname}}} {{attackroll=[[1d20+(?{Modifier|0})-(@{m_ATK})]]}} {{damageroll=[[@{m_weapondamage}]]}} {{critdamageroll=[[@{m_weapondamage}]]}}" name="roll_Attack"></button>
                        <textarea spellcheck="false" name="attr_weapondescription" class="sheet-bottom-line sheet-retainer-description" placeholder="Description"></textarea>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>
<!-- Templates -->
<rolltemplate class="sheet-rolltemplate-acks_template">
    <table>
        {{#abilityroll}}
            <tr><th>{{name}} Throw</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{abilityroll}} vs {{target}}+</td></tr>
            {{#rollLess() abilityroll target}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Failure.</b></td></tr>
            {{/rollLess() abilityroll target}}
            {{#rollTotal() abilityroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollTotal() abilityroll target}}
            {{#rollGreater() abilityroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollGreater() abilityroll target}}
        {{/abilityroll}}
        {{#attackroll}}
            <tr><th>Attack Throw</th></tr>
            <tr><th>{{name}}</th></tr>
            {{#rollWasFumble() attackroll}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Fumble!</b></td></tr>
            {{/rollWasFumble() attackroll}}
            {{#^rollWasFumble() attackroll}}
                {{#rollWasCrit() attackroll}}
                        <tr><td class="sheet-subheader" style="color:green;"><b>Critical Hit!</b></td></tr>
                        <tr><td><span class="sheet-tcat">Damage Roll: </span>{{critdamageroll}}</td></tr>                
                {{/rollWasCrit() attackroll}}
                {{#^rollWasCrit() attackroll}}
                    {{#rollLess() attackroll 0}}
                            <tr><td class="sheet-subheader" style="color:red;"><b>Miss.</b></td></tr>
                    {{/rollLess() attackroll 0}}
                    {{#rollTotal() attackroll 0}}
                            <tr><td class="sheet-subheader" style="color:green;"><b>Hit AC: {{attackroll}}</b></td></tr>
                            <tr><td><span class="sheet-tcat">Damage Roll: </span>{{damageroll}}</td></tr>
                    {{/rollTotal() attackroll 0}}
                    {{#rollGreater() attackroll 0}}
                            <tr><td class="sheet-subheader" style="color:green;"><b>Hit AC: {{attackroll}}</b></td></tr>
                            <tr><td><span class="sheet-tcat">Damage Roll: </span>{{damageroll}}</td></tr>
                    {{/rollGreater() attackroll 0}}
                {{/^rollWasCrit() attackroll}}
            {{/^rollWasFumble() attackroll}}
        {{/attackroll}}
        {{#gmskillroll}}
            <tr><th>{{name}} Throw</th></tr>
            <tr><td><span class="sheet-tcat"></span>1d20+{{gmskillroll}} vs {{target}}+</td></tr>
            <tr><td><span class="sheet-tcat"></span>[SECRET ROLL TO GM](!broll 1d20+{{gmskillroll}} vs {{target}}+ to {{name}})</td></tr>
        {{/gmskillroll}}
        {{#skillroll}}
            <tr><th>{{name}} Throw</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{skillroll}} vs {{target}}+ </td></tr>
            {{#rollLess() skillroll target}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Failure.</b></td></tr>
            {{/rollLess() skillroll target}}
            {{#rollTotal() skillroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollTotal() skillroll target}}
            {{#rollGreater() skillroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollGreater() skillroll target}}
        {{/skillroll}}
        {{#saveroll}}
            <tr><th>Saving Throw</th></tr>
            <tr><th>{{name}}</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{saveroll}} vs {{target}}+</td></tr>
            {{#rollLess() saveroll target}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Failure.</b></td></tr>
            {{/rollLess() saveroll target}}
            {{#rollTotal() saveroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollTotal() saveroll target}}
            {{#rollGreater() saveroll target}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Success!</b></td></tr>
            {{/rollGreater() saveroll target}}
        {{/saveroll}}
        {{#loyaltyroll}}
            <tr><th>Morale Roll</th></tr>
            <tr><th>{{name}}</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{loyaltyroll}}</td></tr>
            {{#rollLess() loyaltyroll 0}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Hostility!</b></td></tr>
            {{/rollLess() loyaltyroll 0}}
            {{#rollBetween() loyaltyroll 0 2}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Hostility!</b></td></tr>
            {{/rollBetween() loyaltyroll 0 2}}
            {{#rollBetween() loyaltyroll 3 5}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Resignation.</b></td></tr>
            {{/rollBetween() loyaltyroll 3 5}}
            {{#rollBetween() loyaltyroll 6 8}}
                    <tr><td class="sheet-subheader" style="color:yellow;"><b>Grudging Loyalty.</b></td></tr>
            {{/rollBetween() loyaltyroll 6 8}}
            {{#rollBetween() loyaltyroll 9 11}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Loyalty.</b></td></tr>
            {{/rollBetween() loyaltyroll 9 11}}
            {{#rollGreater() loyaltyroll 11}}
                    <tr><td class="sheet-subheader" style="color:limegreen;"><b>Fanatic Loyalty!</b></td></tr>
            {{/rollGreater() loyaltyroll 11}}
        {{/loyaltyroll}}
        {{#surprroll}}
            <tr><th>{{name}} Roll</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{surprroll}}</td></tr>
            {{#rollLess() loyaltyroll 3}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Suprised!</b></td></tr>
            {{/rollLess() loyaltyroll 3}}
            {{#rollGreater() loyaltyroll 11}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Not Surprised.</b></td></tr>
            {{/rollGreater() loyaltyroll 11}}
        {{/surprroll}}
        {{#initroll}}
            <tr><th>{{name}} Roll</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{initroll}}</td></tr>
        {{/initroll}}
        {{#reactroll}}
            <tr><th>{{name}} Roll</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{reactroll}}</td></tr>
            {{#rollLess() reactroll 0}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Hostile!</b></td></tr>
            {{/rollLess() reactroll 0}}
            {{#rollBetween() reactroll 0 2}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Hostile!</b></td></tr>
            {{/rollBetween() reactroll 0 2}}
            {{#rollBetween() reactroll 3 5}}
                    <tr><td class="sheet-subheader" style="color:orange;"><b>Unfriendly.</b></td></tr>
            {{/rollBetween() reactroll 3 5}}
            {{#rollBetween() reactroll 6 8}}
                    <tr><td class="sheet-subheader" style="color:yellow;"><b>Uncertain.</b></td></tr>
            {{/rollBetween() reactroll 6 8}}
            {{#rollBetween() reactroll 9 11}}
                    <tr><td class="sheet-subheader" style="color:yellow;"><b>Uninterested.</b></td></tr>
            {{/rollBetween() reactroll 9 11}}
            {{#rollGreater() reactroll 11}}
                    <tr><td class="sheet-subheader" style="color:limegreen;"><b>Friendly!</b></td></tr>
            {{/rollGreater() reactroll 11}}
        {{/reactroll}}
        {{#moraleroll}}
            <tr><th>{{name}} Roll</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{moraleroll}}</td></tr>
            {{#rollLess() moraleroll 0}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Retreat!</b></td></tr>
            {{/rollLess() moraleroll 0}}
            {{#rollBetween() moraleroll 0 2}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Retreat!</b></td></tr>
            {{/rollBetween() moraleroll 0 2}}
            {{#rollBetween() moraleroll 3 5}}
                    <tr><td class="sheet-subheader" style="color:orange;"><b>Fighting Withdrawl.</b></td></tr>
            {{/rollBetween() moraleroll 3 5}}
            {{#rollBetween() moraleroll 6 8}}
                    <tr><td class="sheet-subheader" style="color:yellow;"><b>Fight On.</b></td></tr>
            {{/rollBetween() moraleroll 6 8}}
            {{#rollBetween() moraleroll 9 11}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Advance and Pursue.</b></td></tr>
            {{/rollBetween() moraleroll 9 11}}
            {{#rollGreater() moraleroll 11}}
                    <tr><td class="sheet-subheader" style="color:limegreen;"><b>Victory or Death!</b></td></tr>
            {{/rollGreater() moraleroll 11}}
        {{/moraleroll}}
        {{#hireroll}}
            <tr><th>{{name}} Roll</th></tr>
            <tr><td><span class="sheet-tcat">Roll: </span>{{hireroll}}</td></tr>
            {{#rollLess() hireroll 0}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Refuse and Slander!</b></td></tr>
            {{/rollLess() hireroll 0}}
            {{#rollBetween() hireroll 0 2}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Refuse and Slander!</b></td></tr>
            {{/rollBetween() hireroll 0 2}}
            {{#rollBetween() hireroll 3 5}}
                    <tr><td class="sheet-subheader" style="color:red;"><b>Refuse.</b></td></tr>
            {{/rollBetween() hireroll 3 5}}
            {{#rollBetween() hireroll 6 8}}
                    <tr><td class="sheet-subheader" style="color:yellow;"><b>Try Again.</b></td></tr>
            {{/rollBetween() hireroll 6 8}}
            {{#rollBetween() hireroll 9 11}}
                    <tr><td class="sheet-subheader" style="color:green;"><b>Accept.</b></td></tr>
            {{/rollBetween() hireroll 9 11}}
            {{#rollGreater() hireroll 11}}
                    <tr><td class="sheet-subheader" style="color:limegreen;"><b>Accept with elan!</b></td></tr>
            {{/rollGreater() hireroll 11}}
        {{/hireroll}}
        {{#spell}}
            <tr><th>{{name}}</th></tr>
            <tr class="sheet-spellrow"><td><span class="sheet-tcat">Level: </span>{{type}} {{level}}</td></tr>
            <tr class="sheet-spellrow"><td><span class="sheet-tcat">Duration: </span>{{duration}}</td></tr>
            <tr class="sheet-spellrow"><td><span class="sheet-tcat">Range: </span>{{range}}</td></tr>
            <tr class="sheet-spellrow"><td><span class="sheet-tcat">Description: </span>{{description}}</td></tr>
        {{/spell}}
    </table>
</rolltemplate>
<!-- Sheet workers -->
<script type="text/worker">
const skills = [
];

const fillRepeatingSectionFromData = (sectionName, dataList) => {
  getSectionIDs(`repeating_${sectionName}`, idList => {
    const existingRowAttributes = idList.map(id => `repeating_${sectionName}_${id}_name`);
    getAttrs(existingRowAttributes, v => {
      const createdIDs = [],
        setting = dataList.map(o => {
          let rowID;
          while (!rowID) {
            let newID = generateRowID();
            if (!createdIDs.includes(newID)) {
              rowID = newID;
              createdIDs.push(rowID);
            }
          }
          return Object.keys(o).reduce((m, key) => {
            m[`repeating_${sectionName}_${rowID}_${key}`] = String(o[key]);
            return m;
          }, {});
        })
        .reduce((m, o) => Object.assign(m, o), {});
      setAttrs(setting);
    });
  });
};
// Spells Cast
on('change:repeating_spells remove:repeating_spells', () => {
  "use strict";
  getSectionIDs('repeating_spells', idArray => {
    const attrs = [
      ...idArray.map(id => `repeating_spells_${id}_spelllevel`),
      ...idArray.map(id => `repeating_spells_${id}_spellcast`)
    ];
    getAttrs(attrs, v => {
      const levels = ['1', '2', '3', '4', '5', '6', '7', '8', '9'],
        spellsPrepared = levels.reduce((m, level) => {
          m[`spells_l${level}`] = 0;
          return m;
        }, {});
      idArray.forEach(id => {
        if (levels.includes(v[`repeating_spells_${id}_spelllevel`])) {
          spellsPrepared['spells_l' + v[`repeating_spells_${id}_spelllevel`]] +=
            (parseInt(v[`repeating_spells_${id}_spellcast`]) || 0);
        }
      });
      setAttrs(spellsPrepared);
    });
  });
});
// Equipment counter
on('change:repeating_equipment remove:repeating_equipment change:coinsCP change:coinsSP change:coinsEP change:coinsGP change:coinsPP', function() {
    var totalCoins=0;
    var totalEnc=0;
    getAttrs(["coinsCP","coinsSP","coinsEP","coinsGP","coinsPP"], function(values) {
        for(val in values) {
            if( values.hasOwnProperty( val ) ) {
                var value = parseFloat( values[val] );
                totalCoins += value;
            }
        }
        totalEnc += Math.round(totalCoins/1000);
        getSectionIDs("repeating_equipment", function(idArray)  {
            var enc_id = "";
            var cnt_id = "";
            for(var i=0; i < idArray.length; i++) {
                var id = idArray[i];
                enc_id = "repeating_equipment_" + id + "_encumbrance";
                cnt_id = "repeating_equipment_" + id + "_itemcount";
                getAttrs([enc_id,cnt_id], function(values) {
                    var adg = 0;
                    var num = 0;
                    for(val in values) {
                        if( values.hasOwnProperty( val ) ) {
                            var value = parseFloat( values[val] );
                            if(adg == 0) {
                                adg += value;
                            } else {
                                adg *= value;
                            }
                            num++;
                        }
                    }
                    if(num == 2) {
                        totalEnc += adg;
                        setAttrs({ encumbrance_total: Math.round((totalEnc) * 100) / 100 });
                    }
                });
            }
        });
    });
});
// Movement Rate
on('change:encumbrance_total change:maxCarry', function() {
    getAttrs(["encumbrance_total","maxCarry"], function(values) {
        if(values.encumbrance_total > values.maxCarry) {
            setAttrs({ exploreMV: 0});
            setAttrs({ combatMV: 0});
        } else if(values.encumbrance_total > 10) {
            setAttrs({ exploreMV: 30});
            setAttrs({ combatMV: 10});
        } else if(values.encumbrance_total > 7) {
            setAttrs({ exploreMV: 60});
            setAttrs({ combatMV: 20});
        } else if(values.encumbrance_total > 5) {
            setAttrs({ exploreMV: 90});
            setAttrs({ combatMV: 30});
        } else {
            setAttrs({ exploreMV: 120});
            setAttrs({ combatMV: 40});
        }
    });
});
// Ability modifiers
['Cha', 'Con', 'Dex', 'Int', 'Str', 'Wis'].forEach(ability => {
  on(`sheet:opened change:${ability.toLowerCase()}`, () => {
    getAttrs([ability.toLowerCase()], v => {
      const value = parseInt(v[ability.toLowerCase()]) || 10,
        setting = {};
      if (value <= 3) setting[`${ability}Mod`] = -3;
      else if (value <= 5) setting[`${ability}Mod`] = -2;
      else if (value <= 8) setting[`${ability}Mod`] = -1;
      else if (value <= 12) setting[`${ability}Mod`] = 0;
      else if (value <= 15) setting[`${ability}Mod`] = 1;
      else if (value <= 17) setting[`${ability}Mod`] = 2;
      else setting[`${ability}Mod`] = 3;
      setAttrs(setting);
    });
  });
});
// Default Adventuring Skills
on('change:StrMod change:DexMod change:IntMod change:WisMod change:level', function() {
    getAttrs(["StrMod","DexMod","IntMod","WisMod","level"], function(values) {
        setAttrs({
            ODskillvalue: 18-Math.max(parseInt(values.StrMod), 0) * 4,
            DSskillvalue: 18-Math.max(parseInt(values.IntMod), 0) * 1,
            HNskillvalue: 18-Math.max(parseInt(values.WisMod), 0) * 1,
            FTskillvalue: 18-Math.max(parseInt(values.DexMod), 0) * 1,
            TSskillvalue: 15-parseInt(values.level),
            USskillvalue: 19-Math.ceil(parseInt(values.level)/2)
        });
    });
});
// Conversion
on('sheet:opened', () => {
  const generateSkills = () => {
    getSectionIDs('repeating_skills', idArray => {
      const skillNames = idArray.map(id => `repeating_skills_${id}_skillname`);
      getAttrs(skillNames, v => {
        const existingSkills = Object.values(v).map(name => (name || '').toLowerCase()),
          newSkills = skills.filter(s => !existingSkills.includes(s.toLowerCase())).map(n => ({
            skillname: n
          }));
        fillRepeatingSectionFromData('skills', newSkills);
      });
    });
  }
  getAttrs(['version', 'MaxHP'], v => {
    if (!v.version) {
      if (v.MaxHP) {
        setAttrs({
          hp_max: v.MaxHP
        });
      }
      getSectionIDs('repeating_wepons', idArray => {
        const attrsToConvert = [
          'weaponname', 'weapontype', 'weapondamage', 'shortrange', 'mediumrange', 'longrange'
        ];
        const attrs = idArray.reduce((m, id) => {
          return m.concat(attrsToConvert.map(name => `repeating_wepons_${id}_${name}`));
        }, []);
        getAttrs(attrs, v => {
          const data = idArray.map(id => {
            return attrsToConvert.reduce((m, name) => {
              m[name] = v[`repeating_wepons_${id}_${name}`] || '';
              return m;
            }, {});
          });
          idArray.forEach(id => removeRepeatingRow(`repeating_wepons_${id}`));
          fillRepeatingSectionFromData('weapons', data);
        });
      });
      generateSkills();
    }
    if (v.version === '1') generateSkills();
    setAttrs({
      version: '2'
    });
  });
});
// Calculating Character Saving Throws and Attack Throw
// Classes with Split Progression: trickster (atk thief sv fighter) gladiator (atk monster sv fighter) Priest/ess Witch (atk mage sv cleric)
on('change:class change:level change:ParalyzeMod change:PoisonMod change:BreathMod change:DeviceMod change:MagicMod change:WisMod', function() {
    getAttrs(["class","level","ParalyzeMod","PoisonMod","BreathMod","DeviceMod","MagicMod","WisMod"], function(values) {
        switch (values.class.toUpperCase()) {
            case "FIGHTER":
            case "ASSASSIN":
            case "DWARVEN VAULTGUARD":
            case "VAULTGUARD":
            case "ELVEN SPELLSWORD":
            case "SPELLSWORD":
            case "EXPLORER":
            case "ANTI-PALADIN":
            case "BARBARIAN":
            case "DWARVEN FURY":
            case "FURY":
            case "ELVEN RANGER":
            case "RANGER":
            case "ZAHARAN RUINGUARD":
            case "RUINGUARD":
            case "GNOMISH TRICKSTER":
            case "TRICKSTER":
            case "THRASSIAN GLADIATOR":
            case "GLADIATOR":
            case "MYSTIC":
            case "PALADIN":
                //Fighter Progression
                switch (parseInt(values.level)) {
                    case 1:
                        setAttrs({
                            BaseAT: 10,
                            Paralyze: 15-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 14-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 16-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 16-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 17-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 2:
                    case 3:
                        setAttrs({
                            BaseAT: 9,
                            Paralyze: 14-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 13-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 15-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 15-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 16-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 4:
                        setAttrs({
                            BaseAT: 8,
                            Paralyze: 13-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 12-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 14-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 14-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 15-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 5:
                    case 6:
                        setAttrs({
                            BaseAT: 7,
                            Paralyze: 12-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 11-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 13-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 13-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 14-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 7:
                        setAttrs({
                            BaseAT: 6,
                            Paralyze: 11-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 10-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 12-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 12-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 13-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 8:
                    case 9:
                        setAttrs({
                            BaseAT: 5,
                            Paralyze: 10-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 9-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 11-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 11-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 12-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 10:
                        setAttrs({
                            BaseAT: 4,
                            Paralyze: 9-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 8-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 10-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 10-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 11-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 11:
                    case 12:
                        setAttrs({
                            BaseAT: 3,
                            Paralyze: 8-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 7-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 9-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 9-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 10-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 13:
                        setAttrs({
                            BaseAT: 2,
                            Paralyze: 7-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 6-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 8-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 8-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 9-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 14:
                        setAttrs({
                            BaseAT: 1,
                            Paralyze: 6-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 5-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 7-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 7-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 8-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    default:
                        setAttrs({ BaseAT: 20, Paralyze: 20, Poison: 20, Breath: 20, Device: 20, Magic: 20 });
                }
                break; 
            case "MAGE":
            case "ELVEN ENCHANTER":
            case "ENCHANTER":
            case "NOBIRAN WONDERWORKER":
            case "WONDERWORKER":
            case "WARLOCK":
                //Mage Progression
                switch (parseInt(values.level)) {
                    case 1:
                    case 2:
                    case 3:
                        setAttrs({
                            BaseAT: 10,
                            Paralyze: 13-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 13-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 15-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 11-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 12-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 4:
                    case 5:
                    case 6:
                        setAttrs({
                            BaseAT: 9,
                            Paralyze: 12-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 12-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 14-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 10-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 11-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 7:
                    case 8:
                    case 9:
                        setAttrs({
                            BaseAT: 8,
                            Paralyze: 11-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 11-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 13-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 9-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 10-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 10:
                    case 11:
                    case 12:
                        setAttrs({
                            BaseAT: 7,
                            Paralyze: 10-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 10-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 12-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 8-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 9-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 13:
                    case 14:
                        setAttrs({
                            BaseAT: 6,
                            Paralyze: 9-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 9-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 11-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 7-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 8-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    default:
                        setAttrs({ BaseAT: 20, Paralyze: 20, Poison: 20, Breath: 20, Device: 20, Magic: 20 });
                }
                break;
            case "CLERIC":
            case "BLADEDANCER":
            case "DWARVEN CRAFTPRIEST":
            case "CRAFTPRIEST":
            case "PRIEST":
            case "PRIESTESS":
            case "SHAMAN":
            case "WITCH":
                //Cleric Progression
                switch (parseInt(values.level)) {
                    case 1:
                    case 2:
                        setAttrs({
                            BaseAT: 10,
                            Paralyze: 13-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 10-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 16-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 13-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 15-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 3:
                    case 4:
                        setAttrs({
                            BaseAT: 9,
                            Paralyze: 12-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 9-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 15-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 12-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 14-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 5:
                    case 6:
                        setAttrs({
                            BaseAT: 8,
                            Paralyze: 11-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 8-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 14-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 11-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 13-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 7:
                    case 8:
                        setAttrs({
                            BaseAT: 7,
                            Paralyze: 10-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 7-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 13-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 10-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 12-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;

                    case 9:
                    case 10:
                        setAttrs({
                            BaseAT: 6,
                            Paralyze: 9-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 6-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 12-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 9-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 11-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 11:
                    case 12:
                        setAttrs({
                            BaseAT: 5,
                            Paralyze: 8-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 5-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 11-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 8-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 10-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 13:
                    case 14:
                        setAttrs({
                            BaseAT: 4,
                            Paralyze: 7-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 4-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 10-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 7-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 9-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    default:
                        setAttrs({ BaseAT: 20, Paralyze: 20, Poison: 20, Breath: 20, Device: 20, Magic: 20 });
                }
                break;
            case "THIEF":
            case "BARD":
            case "ELVEN NIGHTBLADE":
            case "NIGHTBLADE":
            case "DWARVEN DELVER":
            case "DELVER":
            case "DWARVEN MACHINIST":
            case "MACHINIST":
            case "ELVEN COURTIER":
            case "COURTIER":
            case "VENTURER":
                //Thief Progression
                switch (parseInt(values.level)) {
                    case 1:
                    case 2:
                        setAttrs({
                            BaseAT: 10,
                            Paralyze: 13-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 13-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 16-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 14-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 15-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 3:
                    case 4:
                        setAttrs({
                            BaseAT: 9,
                            Paralyze: 12-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 12-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 15-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 13-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 14-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 5:
                    case 6:
                        setAttrs({
                            BaseAT: 8,
                            Paralyze: 11-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 11-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 14-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 12-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 13-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 7:
                    case 8:
                        setAttrs({
                            BaseAT: 7,
                            Paralyze: 10-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 10-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 13-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 11-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 12-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;

                    case 9:
                    case 10:
                        setAttrs({
                            BaseAT: 6,
                            Paralyze: 9-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 9-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 12-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 10-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 11-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 11:
                    case 12:
                        setAttrs({
                            BaseAT: 5,
                            Paralyze: 8-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 8-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 11-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 9-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 10-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    case 13:
                    case 14:
                        setAttrs({
                            BaseAT: 4,
                            Paralyze: 7-parseInt(values.ParalyzeMod)-parseInt(values.WisMod),
                            Poison: 7-parseInt(values.PoisonMod)-parseInt(values.WisMod),
                            Breath: 10-parseInt(values.BreathMod)-parseInt(values.WisMod),
                            Device: 8-parseInt(values.DeviceMod)-parseInt(values.WisMod),
                            Magic: 9-parseInt(values.MagicMod)-parseInt(values.WisMod)
                        });
                        break;
                    default:
                        setAttrs({ BaseAT: 20, Paralyze: 20, Poison: 20, Breath: 20, Device: 20, Magic: 20 });
                }
                break;
            default: 
                //NO PROGRESSION
                setAttrs({ BaseAT: 20, Paralyze: 20, Poison: 20, Breath: 20, Device: 20, Magic: 20 });
        }
        //Change Fight Progression trickster(atk thief) gladiator (atk monster) Priest/ess Witch (atk mage)
        switch (values.class.toUpperCase()) {
            case "THRASSIAN GLADIATOR":
            case "GLADIATOR":
                //Monster Progression
                switch (parseInt(values.level)) {
                    case 1:
                        setAttrs({ BaseAT: 10 });
                        break;
                    case 2:
                        setAttrs({ BaseAT: 9 });
                        break;
                    case 3:
                        setAttrs({ BaseAT: 8 });
                        break;
                    case 4:
                        setAttrs({ BaseAT: 7 });
                        break;
                    case 5:
                        setAttrs({ BaseAT: 6 });
                        break;
                    case 6:
                        setAttrs({ BaseAT: 5 });
                        break;
                    case 7:
                        setAttrs({ BaseAT: 4 });
                        break;
                    case 8:
                    case 9:
                        setAttrs({ BaseAT: 3 });
                        break;
                    case 10:
                    case 11:
                        setAttrs({ BaseAT: 2 });
                        break;
                    case 12:
                    case 13:
                        setAttrs({ BaseAT: 1 });
                        break;
                    case 14:
                        setAttrs({ BaseAT: 0 });
                        break;
                    default:
                        //DONT DO A DAMN THING
                }
                break;
            case "PRIEST":
            case "PRIESTESS":
            case "SHAMAN":
            case "WITCH":
                //Mage Progression
                switch (parseInt(values.level)) {
                    case 1:
                    case 2:
                    case 3:
                        setAttrs({ BaseAT: 10 });
                        break;
                    case 4:
                    case 5:
                    case 6:
                        setAttrs({ BaseAT: 9 });
                        break;
                    case 7:
                    case 8:
                    case 9:
                        setAttrs({ BaseAT: 8 });
                        break;
                    case 10:
                    case 11:
                    case 12:
                        setAttrs({ BaseAT: 7 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ BaseAT: 6 });
                        break;
                    default:
                    //DONT DO A DAMN THING
                }
                break;
            case "GNOMISH TRICKSTER":
            case "TRICKSTER":
                //Thief and Cleric Progression
                switch (parseInt(values.level)) {
                    case 1:
                    case 2:
                        setAttrs({ BaseAT: 10 });
                        break;
                    case 3:
                    case 4:
                        setAttrs({ BaseAT: 9 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ BaseAT: 8 });
                        break;
                    case 7:
                    case 8:
                        setAttrs({ BaseAT: 7 });
                        break;
                    case 9:
                    case 10:
                        setAttrs({ BaseAT: 6 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ BaseAT: 5 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ BaseAT: 4 });
                        break;
                    default:
                    //DONT DO A DAMN THING
                }
                break;
            default: 
                //DONT DO A DAMN THING
        }
    });
});


// Monster Attack Throw
on('change:m_fightas change:m_fightlvl', function() {
    getAttrs(["m_fightas","m_fightlvl"], function(values) {
        switch (values.m_fightas) {
            case "MST":
                switch (parseInt(values.m_fightlvl)) {
                    case 1:
                        setAttrs({ m_ATK: 10 });
                        break;
                    case 2:
                        setAttrs({ m_ATK: 9 });
                        break;
                    case 3:
                        setAttrs({ m_ATK: 8 });
                        break;
                    case 4:
                        setAttrs({ m_ATK: 7 });
                        break;
                    case 5:
                        setAttrs({ m_ATK: 6 });
                        break;
                    case 6:
                        setAttrs({ m_ATK: 5 });
                        break;
                    case 7:
                        setAttrs({ m_ATK: 4 });
                        break;
                    case 8:
                    case 9:
                        setAttrs({ m_ATK: 3 });
                        break;
                    case 10:
                    case 11:
                        setAttrs({ m_ATK: 2 });
                        break;
                    case 12:
                    case 13:
                        setAttrs({ m_ATK: 1 });
                        break;
                    case 14:
                    case 15:
                        setAttrs({ m_ATK: 0 });
                        break;
                    case 16:
                    case 17:
                        setAttrs({ m_ATK: -1 });
                        break;
                    case 18:
                    case 19:
                        setAttrs({ m_ATK: -2 });
                        break;
                    case 20:
                    case 21:
                        setAttrs({ m_ATK: -3 });
                        break;
                    default:
                        setAttrs({ m_ATK: -4 });
                }
                break;
            case "FTR":
                switch (parseInt(values.m_fightlvl)) {
                    case 1:
                        setAttrs({ m_ATK: 10 });
                        break;
                    case 2:
                    case 3:
                        setAttrs({ m_ATK: 9 });
                        break;
                    case 4:
                        setAttrs({ m_ATK: 8 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ m_ATK: 7 });
                        break;
                    case 7:
                        setAttrs({ m_ATK: 6 });
                        break;
                    case 8:
                    case 9:
                        setAttrs({ m_ATK: 5 });
                        break;
                    case 10:
                        setAttrs({ m_ATK: 4 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ m_ATK: 3 });
                        break;
                    case 13:
                        setAttrs({ m_ATK: 2 });
                        break;
                    case 14:
                        setAttrs({ m_ATK: 1 });
                        break;
                    default:
                        setAttrs({ m_ATK: 20 });
                }
                break;
            case "MAG":
                switch (parseInt(values.m_fightlvl)) {
                    case 1:
                    case 2:
                    case 3:
                        setAttrs({ m_ATK: 10 });
                        break;
                    case 4:
                    case 5:
                    case 6:
                        setAttrs({ m_ATK: 9 });
                        break;
                    case 7:
                    case 8:
                    case 9:
                        setAttrs({ m_ATK: 8 });
                        break;
                    case 10:
                    case 11:
                    case 12:
                        setAttrs({ m_ATK: 7 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ m_ATK: 6 });
                        break;
                    default:
                        setAttrs({ m_ATK: 20 });
                }
                break;
            case "CLR":
            case "THF":
                switch (parseInt(values.m_fightlvl)) {
                    case 1:
                    case 2:
                        setAttrs({ m_ATK: 10 });
                        break;
                    case 3:
                    case 4:
                        setAttrs({ m_ATK: 9 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ m_ATK: 8 });
                        break;
                    case 7:
                    case 8:
                        setAttrs({ m_ATK: 7 });
                        break;
                    case 9:
                    case 10:
                        setAttrs({ m_ATK: 6 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ m_ATK: 5 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ m_ATK: 4 });
                        break;
                    default:
                        setAttrs({ m_ATK: 20});
                }
                break;
            default:
                setAttrs({ m_ATK: 20});
        }
    });
});

// Monster Saving Throw
on('change:m_saveas change:m_savelvl', function() {
    getAttrs(["m_saveas","m_savelvl"], function(values) {
        switch (values.m_saveas) {
            case "FTR":
                switch (parseInt(values.m_savelvl)) {
                    case 1:
                        setAttrs({ m_Paralyze: 15, m_Poison: 14, m_Breath: 16, m_Device: 16, m_Magic: 17 });
                        break;
                    case 2:
                    case 3:
                        setAttrs({ m_Paralyze: 14, m_Poison: 13, m_Breath: 15, m_Device: 15, m_Magic: 16 });
                        break;
                    case 4:
                        setAttrs({ m_Paralyze: 13, m_Poison: 12, m_Breath: 14, m_Device: 14, m_Magic: 15 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ m_Paralyze: 12, m_Poison: 11, m_Breath: 13, m_Device: 13, m_Magic: 14 });
                        break;
                    case 7:
                        setAttrs({ m_Paralyze: 11, m_Poison: 10, m_Breath: 12, m_Device: 12, m_Magic: 13 });
                        break;
                    case 8:
                    case 9:
                        setAttrs({ m_Paralyze: 10, m_Poison: 9, m_Breath: 11, m_Device: 11, m_Magic: 12 });
                        break;
                    case 10:
                        setAttrs({ m_Paralyze: 9, m_Poison: 8, m_Breath: 10, m_Device: 10, m_Magic: 11 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ m_Paralyze: 8, m_Poison: 7, m_Breath: 9, m_Device: 9, m_Magic: 10 });
                        break;
                    case 13:
                        setAttrs({ m_Paralyze: 7, m_Poison: 6, m_Breath: 8, m_Device: 8, m_Magic: 9 });
                        break;
                    case 14:
                        setAttrs({ m_Paralyze: 6, m_Poison: 5, m_Breath: 7, m_Device: 7, m_Magic: 8 });
                        break;
                    default:
                        setAttrs({ m_Paralyze: 20, m_Poison: 20, m_Breath: 20, m_Device: 20, m_Magic: 20 });
                }
                break;
            case "MAG":
                switch (parseInt(values.m_savelvl)) {
                    case 1:
                    case 2:
                    case 3:
                        setAttrs({ m_Paralyze: 13, m_Poison: 13, m_Breath: 15, m_Device: 11, m_Magic: 12 });
                        break;
                    case 4:
                    case 5:
                    case 6:
                        setAttrs({ m_Paralyze: 12, m_Poison: 12, m_Breath: 14, m_Device: 10, m_Magic: 11 });
                        break;
                    case 7:
                    case 8:
                    case 9:
                        setAttrs({ m_Paralyze: 11, m_Poison: 11, m_Breath: 13, m_Device: 9, m_Magic: 10 });
                        break;
                    case 10:
                    case 11:
                    case 12:
                        setAttrs({ m_Paralyze: 10, m_Poison: 10, m_Breath: 12, m_Device: 8, m_Magic: 9 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ m_Paralyze: 9, m_Poison: 9, m_Breath: 11, m_Device: 7, m_Magic: 8 });
                        break;
                    default:
                        setAttrs({ m_Paralyze: 20, m_Poison: 20, m_Breath: 20, m_Device: 20, m_Magic: 20 });
                }
                break;
            case "CLR":
                switch (parseInt(values.m_savelvl)) {
                    case 1:
                    case 2:
                        setAttrs({ m_Paralyze: 13, m_Poison: 10, m_Breath: 16, m_Device: 13, m_Magic: 15 });
                        break;
                    case 3:
                    case 4:
                        setAttrs({ m_Paralyze: 12, m_Poison: 9, m_Breath: 15, m_Device: 12, m_Magic: 14 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ m_Paralyze: 11, m_Poison: 8, m_Breath: 14, m_Device: 11, m_Magic: 13 });
                        break;
                    case 7:
                    case 8:
                        setAttrs({ m_Paralyze: 10, m_Poison: 7, m_Breath: 13, m_Device: 10, m_Magic: 12 });
                        break;
                    case 9:
                    case 10:
                        setAttrs({ m_Paralyze: 9, m_Poison: 6, m_Breath: 12, m_Device: 9, m_Magic: 11 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ m_Paralyze: 8, m_Poison: 5, m_Breath: 11, m_Device: 8, m_Magic: 10 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ m_Paralyze: 7, m_Poison: 4, m_Breath: 10, m_Device: 7, m_Magic: 9 });
                        break;
                    default:
                        setAttrs({ m_Paralyze: 20, m_Poison: 20, m_Breath: 20, m_Device: 20, m_Magic: 20 });
                }
                break;
            case "THF":
                switch (parseInt(values.m_savelvl)) {
                    case 1:
                    case 2:
                        setAttrs({ m_Paralyze: 13, m_Poison: 13, m_Breath: 16, m_Device: 14, m_Magic: 15 });
                        break;
                    case 3:
                    case 4:
                        setAttrs({ m_Paralyze: 12, m_Poison: 12, m_Breath: 15, m_Device: 13, m_Magic: 14 });
                        break;
                    case 5:
                    case 6:
                        setAttrs({ m_Paralyze: 11, m_Poison: 11, m_Breath: 14, m_Device: 12, m_Magic: 13 });
                        break;
                    case 7:
                    case 8:
                        setAttrs({ m_Paralyze: 10, m_Poison: 10, m_Breath: 13, m_Device: 11, m_Magic: 12 });
                        break;
                    case 9:
                    case 10:
                        setAttrs({ m_Paralyze: 9, m_Poison: 9, m_Breath: 12, m_Device: 10, m_Magic: 11 });
                        break;
                    case 11:
                    case 12:
                        setAttrs({ m_Paralyze: 8, m_Poison: 8, m_Breath: 11, m_Device: 9, m_Magic: 10 });
                        break;
                    case 13:
                    case 14:
                        setAttrs({ m_Paralyze: 7, m_Poison: 7, m_Breath: 10, m_Device: 8, m_Magic: 9 });
                        break;
                    default:
                        setAttrs({ m_Paralyze: 20, m_Poison: 20, m_Breath: 20, m_Device: 20, m_Magic: 20 });
                }
                break;
            default:
                setAttrs({ m_Paralyze: 20, m_Poison: 20, m_Breath: 20, m_Device: 20, m_Magic: 20 });
        }
    });
});

// Parse Monster Statblock
on('change:monster_rawblock', function(eventInfo) {
    var strParse = eventInfo.newValue
    strParse = strParse.split("% In Lair:")
    var monstName=strParse[0]; //m_name
    strParse = strParse[1].split("Dungeon Enc:")
    var monstLair=strParse[0]; //m_lair
    strParse = strParse[1].split("Wilderness Enc:")
    var monstDEnc=strParse[0]; //m_denc
    strParse = strParse[1].split("Alignment:")
    var monstWEnc=strParse[0]; //m_wenc
    strParse = strParse[1].split("Movement:")
    var monstAlign=strParse[0]; //m_alignment
    strParse = strParse[1].split("Armor Class:")
    var monstMove=strParse[0]; //m_movement
    strParse = strParse[1].split("Hit Dice:")
    var monstAC=strParse[0]; //m_armorclass
    strParse = strParse[1].split("Attacks:")
    var monstHD=strParse[0]; //m_hitdice
    strParse = strParse[1].split("Damage:")
    var monstAttack=strParse[0]; //m_attack
    strParse = strParse[1].split("Save:")
    var monstDamage=strParse[0]; //m_damage
    strParse = strParse[1].split("Morale:")
    var monstSave=strParse[0]; //m_save
    strParse = strParse[1].split("Treasure Type:")
    var monstMorale=strParse[0]; //m_morale
    strParse = strParse[1].split("XP:")
    var monstTreasure=strParse[0]; //m_treasure
    var monstXP=strParse[1]; //m_xp
    setAttrs({
        m_name: monstName,
        m_lair: monstLair,
        m_denc: monstDEnc,
        m_wenc: monstWEnc,
        m_alignment: monstAlign,
        m_movement: monstMove,
        m_armorclass: monstAC,
        m_hitdice: monstHD,
        m_attack: monstAttack,
        m_damage: monstDamage,
        m_save: monstSave,
        m_morale: monstMorale,
        m_treasure: monstTreasure,
        m_xp: monstXP
    });
});
</script>
